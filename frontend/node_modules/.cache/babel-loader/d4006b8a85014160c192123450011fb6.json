{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vincent/Documents/wrk/ayomi/the-auth/src/authentication/authentication.js\";\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nclass AuthenticationPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: null,\n      password: null,\n      invalidLogin: false,\n      invalidPassword: false\n    };\n    console.log(props);\n    this.onSuccessfulLogin = props.onSuccessfulLogin;\n    console.log(this.onSuccessfulLogin);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleLogin() {\n    console.log(this.onSuccessfulLogin);\n    console.log(`that's it, we're sailing. (${this.state.login}:${this.state.password})`);\n    fetch(`http://0.0.0.0:8000/authenticate?login=${this.state.login}&password=${this.state.password}`).then(res => {\n      switch (res.status) {\n        case 200:\n          console.log(res);\n          res.json().then(data => this.onSuccessfulLogin(data));\n          break;\n\n        case 401:\n          this.setState({\n            invalidPassword: true,\n            invalidLogin: false\n          });\n          break;\n\n        case 404:\n          this.setState({\n            invalidPassword: false,\n            invalidLogin: true\n          });\n          break;\n      }\n    });\n  }\n\n  handleInputChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"login\",\n          type: \"text\",\n          isInvalid: this.state.invalidLogin,\n          placeholder: \"Enter Login\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"This login is unkonw, Typo maybe?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"password\",\n          type: \"password\",\n          isInvalid: this.state.invalidPassword,\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Wrong password, two more try and your pc explode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handleLogin,\n        variant: \"primary\",\n        children: \" Enter the Matrix!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AuthenticationPanel;","map":{"version":3,"sources":["/home/vincent/Documents/wrk/ayomi/the-auth/src/authentication/authentication.js"],"names":["React","Form","Button","AuthenticationPanel","Component","constructor","props","state","login","password","invalidLogin","invalidPassword","console","log","onSuccessfulLogin","handleLogin","bind","handleInputChange","fetch","then","res","status","json","data","setState","event","name","value","target","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nclass AuthenticationPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            login: null,\n            password: null,\n            invalidLogin: false,\n            invalidPassword: false,\n        }\n\n        console.log(props);\n        this.onSuccessfulLogin = props.onSuccessfulLogin;\n        console.log(this.onSuccessfulLogin);\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleLogin() {\n        console.log(this.onSuccessfulLogin)\n        console.log(`that's it, we're sailing. (${this.state.login}:${this.state.password})`);\n        fetch(\n            `http://0.0.0.0:8000/authenticate?login=${this.state.login}&password=${this.state.password}`\n            ).then(\n                res => {\n                    switch (res.status) {\n                        case 200:\n                            console.log(res)\n                            res.json().then((data) => this.onSuccessfulLogin(data))\n                            break;\n                        case 401:\n                            this.setState({\n                                invalidPassword: true,\n                                invalidLogin: false\n                            });\n                            break;\n                        case 404:\n                            this.setState({\n                                invalidPassword: false,\n                                invalidLogin: true\n                            });\n                            break;\n                    }\n                }\n            )\n    }\n\n    handleInputChange(event) {\n        const {name, value} = event.target;\n\n        this.setState({[name]: value});\n    }\n\n    render() {\n        return (\n            <Form>\n                <Form.Group controlId=\"login\">\n                    <Form.Label>Login</Form.Label>\n                    <Form.Control name='login' type=\"text\" isInvalid={this.state.invalidLogin} placeholder=\"Enter Login\" onChange={this.handleInputChange} />\n                    <Form.Control.Feedback type='invalid'>This login is unkonw, Typo maybe?</Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group controlId=\"login\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control name='password' type=\"password\" isInvalid={this.state.invalidPassword} onChange={this.handleInputChange}/>\n                    <Form.Control.Feedback type='invalid'>Wrong password, two more try and your pc explode</Form.Control.Feedback>\n                </Form.Group>\n\n                <Button onClick={this.handleLogin} variant='primary'> Enter the Matrix!</Button>\n            </Form>\n        );\n    }\n}\n\nexport default AuthenticationPanel;"]},"metadata":{},"sourceType":"module"}