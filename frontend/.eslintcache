[{"/home/vincent/Documents/wrk/ayomi/frontend/src/index.js":"1","/home/vincent/Documents/wrk/ayomi/frontend/src/App.js":"2","/home/vincent/Documents/wrk/ayomi/frontend/src/authentication/authentication.js":"3","/home/vincent/Documents/wrk/ayomi/frontend/src/authentication/registration.js":"4","/home/vincent/Documents/wrk/ayomi/frontend/src/landingPage/landingPage.js":"5","/home/vincent/Documents/wrk/ayomi/frontend/src/landingPage/settings.js":"6"},{"size":276,"mtime":1611514395927,"results":"7","hashOfConfig":"8"},{"size":1384,"mtime":1611535034194,"results":"9","hashOfConfig":"8"},{"size":2650,"mtime":1611540419068,"results":"10","hashOfConfig":"8"},{"size":3341,"mtime":1611543038691,"results":"11","hashOfConfig":"8"},{"size":2752,"mtime":1611540419068,"results":"12","hashOfConfig":"8"},{"size":2474,"mtime":1611540419068,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1c2mud0",{"filePath":"17","messages":"18","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"/home/vincent/Documents/wrk/ayomi/frontend/src/index.js",[],["31","32"],"/home/vincent/Documents/wrk/ayomi/frontend/src/App.js",["33","34"],"import React from 'react';\n\nimport { Container, Collapse, Col, Row } from 'react-bootstrap';\nimport './App.css';\n\nimport AuthenticationPanel from './authentication/authentication';\nimport RegistrationPanel from './authentication/registration';\nimport LandingPage from './landingPage/landingPage';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoggedIn: false,\n      token: null\n    }\n    this.handleSuccessfulLogin = this.handleSuccessfulLogin.bind(this)\n    this.handleDisconection = this.handleDisconection.bind(this)\n  }\n\n  handleDisconection() {\n    this.setState({token:null, isLoggedIn: false});\n  }\n\n  handleSuccessfulLogin(token) {\n    this.setState({token, isLoggedIn: true});\n  }\n\n  render() {\n    const isLoggedIn = this.state.isLoggedIn;\n\n    if (!isLoggedIn) {\n      return (\n        <Container className=\"d-flex min-vh-100 justify-content-center align-items-center\">\n          <Col md={4}>\n            <AuthenticationPanel onSuccessfulLogin={this.handleSuccessfulLogin}/>\n          </Col>\n          <Col md={{span: 4, offset: 4}}>\n            <RegistrationPanel onSuccessfulLogin={this.handleSuccessfulLogin}/>\n          </Col>\n        </Container>\n      )\n    } else {\n      return (\n        <LandingPage token={this.state.token} onDisconect={this.handleDisconection}/>\n      )\n    }\n  }\n}\n\nexport default App;\n","/home/vincent/Documents/wrk/ayomi/frontend/src/authentication/authentication.js",["35"],"import React from 'react';\n\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nclass AuthenticationPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            login: null,\n            password: null,\n            invalidLogin: false,\n            invalidPassword: false,\n        }\n\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleLogin() {\n        fetch(\n            `http://0.0.0.0:8001/authenticate?login=${this.state.login}&password=${this.state.password}`\n            ).then(\n                res => {\n                    switch (res.status) {\n                        case 200:\n                            console.log(res)\n                            res.json().then((data) => this.props.onSuccessfulLogin(data))\n                            break;\n                        case 401:\n                            this.setState({\n                                invalidPassword: true,\n                                invalidLogin: false\n                            });\n                            break;\n                        case 404:\n                            this.setState({\n                                invalidPassword: false,\n                                invalidLogin: true\n                            });\n                            break;\n                    }\n                }\n            )\n    }\n\n    handleInputChange(event) {\n        const {name, value} = event.target;\n\n        this.setState({[name]: value});\n    }\n\n    render() {\n        return (\n            <Form>\n                <Form.Group controlId=\"login\">\n                    <Form.Label>Login</Form.Label>\n                    <Form.Control name='login' type=\"text\" isInvalid={this.state.invalidLogin} placeholder=\"Enter Login\" onChange={this.handleInputChange} />\n                    <Form.Control.Feedback type='invalid'>This login is unkonw, Typo maybe?</Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group controlId=\"login\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control name='password' type=\"password\" isInvalid={this.state.invalidPassword} onChange={this.handleInputChange}/>\n                    <Form.Control.Feedback type='invalid'>Wrong password, two more try and your pc explode</Form.Control.Feedback>\n                </Form.Group>\n\n                <Button onClick={this.handleLogin} variant='primary'> Enter the Matrix!</Button>\n            </Form>\n        );\n    }\n}\n\nexport default AuthenticationPanel;","/home/vincent/Documents/wrk/ayomi/frontend/src/authentication/registration.js",["36"],"/home/vincent/Documents/wrk/ayomi/frontend/src/landingPage/landingPage.js",["37","38"],"import React from 'react';\nimport { Container, Spinner, Button, Jumbotron, Row } from 'react-bootstrap';\n\nimport SettingsPanel from './settings';\n\nclass LandingPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            user: null,\n            showSettings: false,\n        }\n\n        this.handleOpenSettings = this.handleOpenSettings.bind(this);\n        this.handleCloseSettings = this.handleCloseSettings.bind(this);\n        this.reloadUser();\n    }\n\n    reloadUser() {\n        fetch(\n            `http://0.0.0.0:8001/get_user_information`, {\n                headers: {\n                    'authorization': `Bearer ${this.props.token.value}`\n                }\n            }\n        ).then(\n            res => {\n                console.log(res);\n                switch (res.status) {\n                    case 200:\n                        res.json().then(data => this.setState({user: data}))\n                        break;\n                    case 404, 401:\n                        this.props.onDisconect();\n                        break;\n                }\n            }\n        )\n    }\n\n    handleOpenSettings() {\n        this.setState({showSettings: true});\n    }\n\n    handleCloseSettings({shouldRefreshUser=false}) {\n        this.setState({showSettings: false});\n        if (shouldRefreshUser) {\n            this.reloadUser();\n        }\n    }\n\n    render() {\n        if (!!this.state.user) {\n            return (\n                <Container className=\"d-flex min-vh-100 justify-content-center align-items-center\">\n                    <Row>\n                        <Jumbotron>\n                            <h1>Hello {this.state.user.login}</h1>\n                            <p>Happy to see you back, at the moment you may modify your mail (which is {this.state.user.email}), more soon maybe?</p>\n                        </Jumbotron>\n                    </Row>\n                    <Row className=\"align-items-center justify-content-center\">\n                        <Button md={4} variant=\"success\" onClick={this.handleOpenSettings}>Modify your contact informations</Button>\n                        <Button md={{span: 4, offset: 4}} variant=\"danger\" onClick={this.props.onDisconect}>Log Out</Button>\n                    </Row>\n                    <SettingsPanel show={this.state.showSettings} onHide={this.handleCloseSettings} user={this.state.user} token={this.props.token}/>\n                </Container>\n            )    \n        } else {\n            return (\n                <Container className=\"d-flex min-vh-100 justify-content-center align-items-center\">\n                    <Spinner animation=\"grow\"/>\n                </Container>\n            )    \n        }\n    }\n\n}\n\nexport default LandingPage;","/home/vincent/Documents/wrk/ayomi/frontend/src/landingPage/settings.js",["39"],"import React from 'react';\nimport { Modal, InputGroup, Button, FormControl } from 'react-bootstrap';\n\nclass SettingsPanel extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: this.props.user.email\n        }\n\n        this.handleSave = this.handleSave.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        const {name, value} = event.target;\n\n        this.setState({[name]: value});\n    }\n\n    handleSave() {\n        fetch(\n            `http://0.0.0.0:8001/updateSettings`, {\n                method: \"POST\",\n                headers: {\n                    'authorization': `Bearer ${this.props.token.value}`\n                },\n                body: JSON.stringify({\n                    email: this.state.email,\n                })\n            }\n        ).then(\n            (response) => {\n                switch (response.status) {\n                    case 200:\n                        this.props.onHide({shouldRefreshUser: true});\n                        break;\n                }\n            }\n        )\n    }\n\n    render() {\n        return (\n            <Modal\n            show={this.props.show}\n            onHide={this.props.onHide}\n            backdrop=\"static\"\n            keyboard={false}\n                >\n                <Modal.Header closeButton>\n                    <Modal.Title>Contact Information</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <InputGroup className=\"mb-3\">\n                        <InputGroup.Prepend>\n                        <InputGroup.Text id=\"basic-addon1\">@</InputGroup.Text>\n                        </InputGroup.Prepend>\n                        <FormControl\n                            placeholder=\"Mail\"\n                            aria-label=\"Mail\"\n                            aria-describedby=\"basic-addon1\"\n                            name=\"email\"\n                            onChange={this.handleInputChange}\n                        />\n                    </InputGroup>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"primary\" onClick={this.handleSave}>Save</Button>\n                    <Button variant=\"secondary\" onClick={this.props.onHide}>\n                        Cancel\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        )\n    }\n}\n\nexport default SettingsPanel",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":3,"column":21,"nodeType":"46","messageId":"47","endLine":3,"endColumn":29},{"ruleId":"44","severity":1,"message":"48","line":3,"column":36,"nodeType":"46","messageId":"47","endLine":3,"endColumn":39},{"ruleId":"49","severity":1,"message":"50","line":25,"column":21,"nodeType":"51","messageId":"52","endLine":42,"endColumn":22},{"ruleId":"49","severity":1,"message":"50","line":43,"column":25,"nodeType":"51","messageId":"52","endLine":50,"endColumn":26},{"ruleId":"49","severity":1,"message":"50","line":29,"column":17,"nodeType":"51","messageId":"52","endLine":36,"endColumn":18},{"ruleId":"53","severity":1,"message":"54","line":33,"column":29,"nodeType":"55","messageId":"56","endLine":33,"endColumn":30},{"ruleId":"49","severity":1,"message":"50","line":35,"column":17,"nodeType":"51","messageId":"52","endLine":39,"endColumn":18},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'Collapse' is defined but never used.","Identifier","unusedVar","'Row' is defined but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","no-global-assign","no-unsafe-negation"]